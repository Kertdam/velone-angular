<form [formGroup]="trajetForm">
    <input type="text" formControlName="nom" placeholder="Nom du trajet"  pInputText>
    <textarea formControlName="description" [rows]="5" [cols]="30" pInputTextarea autoResize="autoResize" placeholder="Description du trajet" >
    </textarea>
    <p-calendar formControlName="dateDepart" dateFormat="yy.mm.dd" showTime="true" hourFormat="24"></p-calendar>

<div formArrayName="etapes" *ngFor="let item of trajetForm.get('etapes').controls; let i = index;">
  <div [formGroupName]="i">
      <div class="ui-inputgroup"> 
          <p-autoComplete formControlName="nom" [suggestions]="datasNom" (onSelect)="searchData($event,i)" (completeMethod)="search($event)"></p-autoComplete>  
          <button pButton type="button" icon="pi pi-times" class="ui-button-secondary"></button>      
      </div>
   
    <input type="hidden" formControlName="lattitude" pInputText>
    <input type="hidden" formControlName="longitude" pInputText>
    <input type="hidden" formControlName="elevation" pInputText>
  </div>
</div>
  <p-button (click)="addEtape()" icon="pi pi-plus"></p-button>
  <p-button (click)=" handleSubmit()" label="sauvegarder"></p-button>
</form>

<pre>
  {{ trajetForm.value | json }}
</pre>
